<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Applications of Analytics in NHL Goaltender Evaluation by piperwolli</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Applications of Analytics in NHL Goaltender Evaluation</h1>
      <h2 class="project-tagline">hockey analytics</h2>
      <a href="https://github.com/piperwolli/HockeyAnalytics" class="btn">View on GitHub</a>
      <a href="https://github.com/piperwolli/HockeyAnalytics/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/piperwolli/HockeyAnalytics/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="the-project-in-three-sentences" class="anchor" href="#the-project-in-three-sentences" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The Project in Three Sentences</h1>

<p>The purpose of this project is to assist NHL pro scouts in identifying goalies who are undervalued because they play on a bad team. Play-by-play data is collected from all 1230 games played this season to adjust for shot distance, shot type, power play, the shooter, and the team effects. The data is then analyzed using a multivariate regression model that outputs a final ranking of goalies.</p>

<h1>
<a id="the-approach" class="anchor" href="#the-approach" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The Approach</h1>

<p>Unlike baseball where the team performance is more-or-less an aggregate of individual player performances, hockey is a more dynamic sport. Goaltending, however, is an area where an individual can make a large impact. This gives analytics the potential to change the game.</p>

<p>Traditional goalie statistics consist of number of wins, save percentage, and goals against average. There are some intuitive reasons why these basic stats are not sufficient: </p>

<ol>
<li><p>The Shots
Goalies face different types of shots, coming from different distances</p></li>
<li><p>The Situation on Ice
Teams who take more penalties force their goalies to spend more time at a disadvantage. Making a save during penalty kill should be looked at differently compared to save made playing at even strength</p></li>
<li><p>The Team
Some teams play a defensive game whereas others are more offensive-minded. A good goalie could play for a bad team and end up with poor stats (See Devan Dubnyk story: <a href="http://edmontonjournal.com/sports/hockey/nhl/goalie-devan-dubnyk-turns-page-on-struggles-from-a-different-lifetime">http://edmontonjournal.com/sports/hockey/nhl/goalie-devan-dubnyk-turns-page-on-struggles-from-a-different-lifetime</a> )</p></li>
<li><p>Players
Stopping a breakaway from a dangler (Crosby) or gloving a shot from a top sniper (Ovechkin) is different from stopping a shot from the blue line by a third pair defenseman.</p></li>
</ol>

<p>There are also other factors in play, such as the stadium, the calendar effect, home ice advantage, that could also influence a goalie's performance. Data mining from the play-by-play data allow us to adjust for these factors. However, in this project, we run into the issue of over-fitting when we run too many of these scenarios.</p>

<h1>
<a id="data-mining" class="anchor" href="#data-mining" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Mining</h1>

<p>Play-by-play data is mined through the official NHL website (<a href="http://www.nhl.com/scores/htmlreports/20152016/PL020001.HTM">http://www.nhl.com/scores/htmlreports/20152016/PL020001.HTM</a>)
<img src="https://dl.dropboxusercontent.com/u/105063416/G1.JPG" alt=""></p>

<p>The data is restructured in the following format
<img src="https://dl.dropboxusercontent.com/u/105063416/G1C.JPG" alt=""></p>

<h1>
<a id="data-exploration" class="anchor" href="#data-exploration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Data Exploration</h1>

<p>We can find some very interesting results from exploring and visualizing the data. We can look in different ways on how many shots were attempted (Shots), how many missed (Misses), how many went it (Goals), shot accuracy (A), and of those that hit the net, the goal probability (GP). Penalty shots have the highest probability of hitting on-target, and the highest probability of scoring. Slapshots and wrap-arounds are the least effective in todayâ€™s NHL. Deflection and Tip-Ins have high probability of scoring, but they are less likely to be on target.</p>

<p><img src="https://dl.dropboxusercontent.com/u/105063416/Shottype.JPG" alt=""></p>

<p>Separating forwards(F) from defensemen(D), we can get a quick summary of how the two positions are different when it comes to shooting accuracy and probability of scoring.</p>

<p><img src="https://dl.dropboxusercontent.com/u/105063416/DF.JPG" alt=""></p>

<p>We can visualize the data to do some comparative analyses of the teams and players. Analyzing the shot accuracy and scoring probability of teams, we can identify the teams that play a dominant possession game. Looking at the visual below, we can conclude that the Toronto Maple Leafs, who is in last place this season, is one of the top offensive teams in terms of shots attempted. The data shows TOR plays a great system that generates offense opportunities. However, the team lacks the skill to score overall.</p>

<p>Of the top 10, Toronto and Boston are the ONLY teams who missed the playoffs this season. Boston had a late season collapose and didn't miss the playoffs by far.
<img src="https://dl.dropboxusercontent.com/u/105063416/Team.JPG" alt=""></p>

<p>Looking at some of the other metrics, distance appears to have a large effect on goal scoring. The series at the top indicate shooting accuracy, the two lines below are probabilities of scoring. Interestingly, there appears to be a slight increase in shot accuracy around the 30~40ft mark. This is likely the result of an open lane to the net just above the face-off circle.
<img src="https://dl.dropboxusercontent.com/u/105063416/ShotDist.JPG" alt=""></p>

<p>Visualizing how forwards and defense shoot and score, we can see some defensemen play an offensive style of hockey.It's also interesting to note different players' playing style. Riskier shots (those aimed at the corners and bar-down) have a higher probability of scoring, but also higher probability of missing the net altogether. Similarly, some players have higher shooting accuracy, but those shots are more likely to be stopped by the goaltender, hence have a lower scoring probability.
<img src="https://dl.dropboxusercontent.com/u/105063416/Style.JPG" alt=""></p>

<h1>
<a id="assessing-goaltenders" class="anchor" href="#assessing-goaltenders" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Assessing Goaltenders</h1>

<p>To evaluate goaltender performances, the idea is to calculate the probability of each shot of scoring and adjusting for the paramters layed out in the introduction using multivariate regression. To make the model more advanced, we add in the "Player Factor" to take into consideration that elite players have better shooting skills.</p>

<p>A way to assess the "fit" of this model will be to compare how many goals a player scored versus how many goals the player is expected to score according to the model. We use the RMSE value as an indicator. Once the coefficients are set, we will then look at each goalie and the shots he faced, and calculate the number of goals the goalie was expected to let in, as suggested by the model.</p>

<p>Mathematically:
<img src="https://dl.dropboxusercontent.com/u/105063416/MathEquation.JPG" alt=""></p>

<p>Modelling goaltender performances using the equation above, we can construct a match-up matrix that shows how top goalies fared against the top shooters (Goal &gt; 20) this past season. Not surprisingly, EMPTY NET is the worst goalie in the league.</p>

<p><img src="https://dl.dropboxusercontent.com/u/105063416/GSMatrix.JPG" alt=""></p>

<p>And finally, we have a list of top 30 goalies who played above expectation (A), and top 30 risky goaltenders in the league (B).</p>

<p>A</p>

<p><img src="https://dl.dropboxusercontent.com/u/105063416/T30.JPG" alt=""></p>

<p>B</p>

<p><img src="https://dl.dropboxusercontent.com/u/105063416/R30.JPG" alt=""></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/piperwolli/HockeyAnalytics">Applications of Analytics in NHL Goaltender Evaluation</a> is maintained by <a href="https://github.com/piperwolli">piperwolli</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
